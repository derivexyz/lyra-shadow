{"abi":[{"type":"function","name":"calculateBalanceWithInterest","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"balance","type":"int256","internalType":"int256"}],"stateMutability":"nonpayable"},{"type":"function","name":"deposit","inputs":[{"name":"recipientAccount","type":"uint256","internalType":"uint256"},{"name":"assetAmount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"depositToNewAccount","inputs":[{"name":"recipient","type":"address","internalType":"address"},{"name":"stableAmount","type":"uint256","internalType":"uint256"},{"name":"manager","type":"address","internalType":"contract IManager"}],"outputs":[{"name":"newAccountId","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"donateBalance","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"burntAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"forceWithdraw","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getCashToStableExchangeRate","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"handleAdjustment","inputs":[{"name":"adjustment","type":"tuple","internalType":"struct ISubAccounts.AssetAdjustment","components":[{"name":"acc","type":"uint256","internalType":"uint256"},{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"subId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"int256","internalType":"int256"},{"name":"assetData","type":"bytes32","internalType":"bytes32"}]},{"name":"tradeId","type":"uint256","internalType":"uint256"},{"name":"preBalance","type":"int256","internalType":"int256"},{"name":"manager","type":"address","internalType":"contract IManager"},{"name":"caller","type":"address","internalType":"address"}],"outputs":[{"name":"finalBalance","type":"int256","internalType":"int256"},{"name":"needAllowance","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"socializeLoss","inputs":[{"name":"lossAmountInCash","type":"uint256","internalType":"uint256"},{"name":"accountToReceive","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateSettledCash","inputs":[{"name":"amountCash","type":"int256","internalType":"int256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"withdraw","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"},{"name":"assetAmount","type":"uint256","internalType":"uint256"},{"name":"recipient","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"wrappedAsset","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20Metadata"}],"stateMutability":"view"},{"type":"event","name":"Deposit","inputs":[{"name":"accountId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"depositor","type":"address","indexed":true,"internalType":"address"},{"name":"amountAssetMinted","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"wrappedAssetDeposited","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"InterestAccrued","inputs":[{"name":"interestAccrued","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"borrowIndex","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"supplyIndex","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"totalSupply","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"totalBorrow","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"InterestAccruedOnAccount","inputs":[{"name":"accountId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"preBalance","type":"int256","indexed":false,"internalType":"int256"},{"name":"interestAccrued","type":"int256","indexed":false,"internalType":"int256"},{"name":"accountIndex","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"InterestRateModelSet","inputs":[{"name":"rateModel","type":"address","indexed":false,"internalType":"contract IInterestRateModel"}],"anonymous":false},{"type":"event","name":"LiquidationModuleSet","inputs":[{"name":"liquidationModule","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"SettledCashUpdated","inputs":[{"name":"amountChanged","type":"int256","indexed":false,"internalType":"int256"},{"name":"currentSettledCash","type":"int256","indexed":false,"internalType":"int256"}],"anonymous":false},{"type":"event","name":"SmFeeRecipientSet","inputs":[{"name":"recipientAcc","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SmFeeSet","inputs":[{"name":"fee","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Withdraw","inputs":[{"name":"accountId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"recipient","type":"address","indexed":true,"internalType":"address"},{"name":"amountAssetBurn","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"wrappedAssetWithdrawn","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"WithdrawFeeDisabled","inputs":[{"name":"exchangeRate","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"WithdrawFeeEnabled","inputs":[{"name":"exchangeRate","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"CA_DonateBalanceNotAuthorized","inputs":[]},{"type":"error","name":"CA_ForceWithdrawNegativeBalance","inputs":[]},{"type":"error","name":"CA_ForceWithdrawNotAuthorized","inputs":[]},{"type":"error","name":"CA_InterestAccrualStale","inputs":[{"name":"lastUpdatedAt","type":"uint256","internalType":"uint256"},{"name":"currentTimestamp","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"CA_InvalidSubId","inputs":[]},{"type":"error","name":"CA_NotAccount","inputs":[]},{"type":"error","name":"CA_NotLiquidationModule","inputs":[]},{"type":"error","name":"CA_OnlyAccountOwner","inputs":[]},{"type":"error","name":"CA_SmFeeInvalid","inputs":[{"name":"fee","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"CA_UnknownManager","inputs":[]},{"type":"error","name":"CA_WithdrawBlockedByOngoingAuction","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"calculateBalanceWithInterest(uint256)":"77df2e81","deposit(uint256,uint256)":"e2bbb158","depositToNewAccount(address,uint256,address)":"00cef2cd","donateBalance(uint256,uint256)":"5ad4acbc","forceWithdraw(uint256)":"0fcc56f7","getCashToStableExchangeRate()":"84be7fee","handleAdjustment((uint256,address,uint256,int256,bytes32),uint256,int256,address,address)":"8503eba9","socializeLoss(uint256,uint256)":"9b832218","updateSettledCash(int256)":"051e03bc","withdraw(uint256,uint256,address)":"0ad58d2f","wrappedAsset()":"d9a1836a"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"CA_DonateBalanceNotAuthorized\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CA_ForceWithdrawNegativeBalance\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CA_ForceWithdrawNotAuthorized\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"lastUpdatedAt\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"currentTimestamp\",\"type\":\"uint256\"}],\"name\":\"CA_InterestAccrualStale\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CA_InvalidSubId\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CA_NotAccount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CA_NotLiquidationModule\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CA_OnlyAccountOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"CA_SmFeeInvalid\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CA_UnknownManager\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CA_WithdrawBlockedByOngoingAuction\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"depositor\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountAssetMinted\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"wrappedAssetDeposited\",\"type\":\"uint256\"}],\"name\":\"Deposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"interestAccrued\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"borrowIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"supplyIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalSupply\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalBorrow\",\"type\":\"uint256\"}],\"name\":\"InterestAccrued\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"preBalance\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"interestAccrued\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"accountIndex\",\"type\":\"uint256\"}],\"name\":\"InterestAccruedOnAccount\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"contract IInterestRateModel\",\"name\":\"rateModel\",\"type\":\"address\"}],\"name\":\"InterestRateModelSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"liquidationModule\",\"type\":\"address\"}],\"name\":\"LiquidationModuleSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"amountChanged\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"currentSettledCash\",\"type\":\"int256\"}],\"name\":\"SettledCashUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"recipientAcc\",\"type\":\"uint256\"}],\"name\":\"SmFeeRecipientSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"}],\"name\":\"SmFeeSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountAssetBurn\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"wrappedAssetWithdrawn\",\"type\":\"uint256\"}],\"name\":\"Withdraw\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"exchangeRate\",\"type\":\"uint256\"}],\"name\":\"WithdrawFeeDisabled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"exchangeRate\",\"type\":\"uint256\"}],\"name\":\"WithdrawFeeEnabled\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"}],\"name\":\"calculateBalanceWithInterest\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"balance\",\"type\":\"int256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"recipientAccount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"assetAmount\",\"type\":\"uint256\"}],\"name\":\"deposit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"stableAmount\",\"type\":\"uint256\"},{\"internalType\":\"contract IManager\",\"name\":\"manager\",\"type\":\"address\"}],\"name\":\"depositToNewAccount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"newAccountId\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"donateBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"burntAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"}],\"name\":\"forceWithdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCashToStableExchangeRate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"acc\",\"type\":\"uint256\"},{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"amount\",\"type\":\"int256\"},{\"internalType\":\"bytes32\",\"name\":\"assetData\",\"type\":\"bytes32\"}],\"internalType\":\"struct ISubAccounts.AssetAdjustment\",\"name\":\"adjustment\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"tradeId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"preBalance\",\"type\":\"int256\"},{\"internalType\":\"contract IManager\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"}],\"name\":\"handleAdjustment\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"finalBalance\",\"type\":\"int256\"},{\"internalType\":\"bool\",\"name\":\"needAllowance\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"lossAmountInCash\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"accountToReceive\",\"type\":\"uint256\"}],\"name\":\"socializeLoss\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int256\",\"name\":\"amountCash\",\"type\":\"int256\"}],\"name\":\"updateSettledCash\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"assetAmount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"wrappedAsset\",\"outputs\":[{\"internalType\":\"contract IERC20Metadata\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"CA_DonateBalanceNotAuthorized()\":[{\"details\":\"Only the owner of the account can call the donate function\"}],\"CA_ForceWithdrawNegativeBalance()\":[{\"details\":\"Calling force withdraw when user has a negative balance\"}],\"CA_ForceWithdrawNotAuthorized()\":[{\"details\":\"The caller of force withdraw was not the account's risk manager\"}],\"CA_InterestAccrualStale(uint256,uint256)\":[{\"details\":\"accrued interest is stale\"}],\"CA_InvalidSubId()\":[{\"details\":\"SubId passed into adjustment is not 0\"}],\"CA_NotAccount()\":[{\"details\":\"caller is not account\"}],\"CA_NotLiquidationModule()\":[{\"details\":\"caller is not the liquidation module\"}],\"CA_OnlyAccountOwner()\":[{\"details\":\"caller is not owner of the account\"}],\"CA_SmFeeInvalid(uint256)\":[{\"details\":\"Security module fee cut greater than 100%\"}],\"CA_UnknownManager()\":[{\"details\":\"revert when user trying to upgrade to a unknown manager\"}],\"CA_WithdrawBlockedByOngoingAuction()\":[{\"details\":\"withdraw is temporarily block due to on-going insolvent auction\"}]},\"events\":{\"Deposit(uint256,address,uint256,uint256)\":{\"details\":\"emitted when a user deposits to an account\"},\"InterestAccrued(uint256,uint256,uint256,uint256,uint256)\":{\"details\":\"Emitted when interest related state variables are updated\"},\"InterestAccruedOnAccount(uint256,int256,int256,uint256)\":{\"details\":\"emitted when an interest accrued on an existing account's pre balance\"},\"InterestRateModelSet(address)\":{\"details\":\"Emitted when a new interest rate model is set\"},\"LiquidationModuleSet(address)\":{\"details\":\"Emitted when a new liquidation module is set\"},\"SettledCashUpdated(int256,int256)\":{\"details\":\"Emitted when asymmetric print/burn occurs for settlement\"},\"SmFeeRecipientSet(uint256)\":{\"details\":\"Emitted when the recipient is set\"},\"SmFeeSet(uint256)\":{\"details\":\"Emitted when the security module fee is set\"},\"Withdraw(uint256,address,uint256,uint256)\":{\"details\":\"emitted when a user withdraws from an account\"},\"WithdrawFeeDisabled(uint256)\":{\"details\":\"emitted when withdraw fee is disabled      this can only occur if the cash asset is solvent again\"},\"WithdrawFeeEnabled(uint256)\":{\"details\":\"emitted when withdraw fee is enabled      this would imply there is an insolvency and loss is applied to all cash holders\"}},\"kind\":\"dev\",\"methods\":{\"calculateBalanceWithInterest(uint256)\":{\"params\":{\"accountId\":\"The accountId to check\"}},\"depositToNewAccount(address,uint256,address)\":{\"details\":\"Deposit and create a new account\",\"params\":{\"manager\":\"manager of the new account\",\"recipient\":\"user for who the new account is created\",\"stableAmount\":\"amount of stable coins to deposit\"}},\"getCashToStableExchangeRate()\":{\"details\":\"Returns the exchange rate from cash asset to stable asset      this should always be equal to 1, unless we have an insolvency\"},\"handleAdjustment((uint256,address,uint256,int256,bytes32),uint256,int256,address,address)\":{\"params\":{\"adjustment\":\"details about adjustment, containing account, subId, amount\",\"caller\":\"the msg.sender that initiate the transfer. might not be the owner\",\"manager\":\"the manager contract that will verify the end state. Should verify if this is a trusted manager\",\"preBalance\":\"balance before adjustment\",\"tradeId\":\"unique number attached to a batched transfers.                It is possible that this hook will receive multiple calls with different tradeIds within 1 transaction.\"},\"returns\":{\"finalBalance\":\"the final balance to be recorded in the account\",\"needAllowance\":\"if this adjustment should require allowance from non-ERC721 approved initiator\"}},\"socializeLoss(uint256,uint256)\":{\"params\":{\"accountToReceive\":\"Account to receive the new printed amount\",\"lossAmountInCash\":\"Total amount of cash loss\"}},\"updateSettledCash(int256)\":{\"details\":\"Required to track printed cash for asymmetric settlements\",\"params\":{\"amountCash\":\"Amount of cash printed or burned\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"calculateBalanceWithInterest(uint256)\":{\"notice\":\"Returns latest balance without updating accounts but will update indexes\"},\"forceWithdraw(uint256)\":{\"notice\":\"Allows the account's risk manager to forcefully send all cash to the account owner\"},\"handleAdjustment((uint256,address,uint256,int256,bytes32),uint256,int256,address,address)\":{\"notice\":\"triggered when an adjustment is triggered on the asset balance\"},\"socializeLoss(uint256,uint256)\":{\"notice\":\"Liquidation module can report loss when there is insolvency.         This function will \\\"print\\\" the amount of cash to the target account         and socialize the loss to everyone in the system         this will result in turning on withdraw fee if the contract is indeed insolvent\"},\"updateSettledCash(int256)\":{\"notice\":\"Allows whitelisted manager to adjust netSettledCash\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/ICashAsset.sol\":\"ICashAsset\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[\":chainlink/=lib/chainlink/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":lib/lyra-utils/=lib/lyra-utils/\",\":lib/openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":lyra-utils/=lib/lyra-utils/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":src/decimals/=lib/lyra-utils/src/decimals/\",\":src/interfaces/=src/interfaces/\",\":src/risk-managers/=src/risk-managers/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x00c839ff53d07d19db2e7cfa1e5133f9ee90a8d64b0e2e57f50446a2d1a3a0e0\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3dac621d015a68a5251b1e5d41dda0faf252699bf6e8bcf46a958b29964d9dd1\",\"dweb:/ipfs/QmP9axjgZv4cezAhALoTemM62sdLtMDJ9MGTxECnNwHgSJ\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/extensions/IERC20Metadata.sol\":{\"keccak256\":\"0x8de418a5503946cabe331f35fe242d3201a73f67f77aaeb7110acb1f30423aca\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5a376d3dda2cb70536c0a45c208b29b34ac560c4cb4f513a42079f96ba47d2dd\",\"dweb:/ipfs/QmZQg6gn1sUpM8wHzwNvSnihumUCAhxD119MpXeKp8B9s8\"]},\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0x41bbb2c41036ca64b2f6c9e973e8cfaa113ebc42af86702cd0d267f915a7e886\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6bf6699c55e82c7af6ae90b61ea9643ca0c905097da9a31269319f1b5a2a696a\",\"dweb:/ipfs/QmRJZa2UmWcRo6W8JnuomwzfjVtAS21QC8HKggxBhoPsU4\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f\",\"dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy\"]},\"src/interfaces/IAllowances.sol\":{\"keccak256\":\"0x53acb29f236a4b2d6c9ebcbd4d2f8a65eeb0049b35b33a950467699987141dfb\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://59743a7e65b252241e5bbb158ab69ba55eb2118d84b5020510b486483cd1578b\",\"dweb:/ipfs/QmTMKUpN8sW1oXb5gjEXXY7d8FRAaJotf6MtDW1rG49vSo\"]},\"src/interfaces/IAsset.sol\":{\"keccak256\":\"0xe2d55d7aaddcb04cc002b32f464d57d001800d9bd959cd1a5c60f78bd78e6bcb\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://7af70cb014b81f4272e862f87c9ca027ba8aed9d72d5c1a9ca28b7f05edf8389\",\"dweb:/ipfs/QmZfdNtWQrXLu3avyJiWEVBfEvj5EwbwwtZtczLm7PcRei\"]},\"src/interfaces/ICashAsset.sol\":{\"keccak256\":\"0x1c931abc69e5fd3feec74857f3d36b9f6e9d002fe96b8987a303e2908c589433\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://1378dec082605c57dd4c87fd9500883fe1efc30fcb6b4a09bc3db8d5cb791d99\",\"dweb:/ipfs/QmQD5oFH3jJywK1UXCp7pbBhypEJJNYDEi5sESwcHo2amJ\"]},\"src/interfaces/IERC20BasedAsset.sol\":{\"keccak256\":\"0xfe7c341891b0d8e5c1a46d7fead9cd5f5f1b64d297d53737522d720bc846639d\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://797026a275c442f808405ea9438ba7b5b0d26a5c50d7da3d2b45c40b1f1ecbb5\",\"dweb:/ipfs/QmQSr5BSQd53GDzGADcXbeahurqBYf7XzZjLosqBzLgdup\"]},\"src/interfaces/IInterestRateModel.sol\":{\"keccak256\":\"0x5c3cae33e839be146cdcd95ea07b694e3a005cc0613479f1b8a1cffe7d17d652\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://58416e0a378c0778993fc79565a58e92e440f942459f49fd682e19a37845b16c\",\"dweb:/ipfs/QmYAYRdXs3aNgBSYQtpzX27xrRg32gq87VKPLaF26qKjdB\"]},\"src/interfaces/IManager.sol\":{\"keccak256\":\"0x3cea09b9ade8f5882374407dfb3a9b668c0c2b0a85c165cabdbafdbea891b3df\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://2f9af85d7fd8bb32c9344f21b0dd3cfb9485f6c3f9ca866c8adb0638acc7e3b9\",\"dweb:/ipfs/QmbL1te91vqCbYLxxvpxFGhqCXUzQwiKZuZjY5XNkQqt4s\"]},\"src/interfaces/ISubAccounts.sol\":{\"keccak256\":\"0xecdbfdf0bf85279ee7839968c3198c6a7c5632378d197271300617a01dfb02f7\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://64e23c1447aa8de056c7d5bc8d79c1357f039e443abe6d6698c6f0a1f3482697\",\"dweb:/ipfs/QmQzgG2EX6gZgzTArDkxMFRkph3bWH7VjnqEebkmhbCjLK\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"CA_DonateBalanceNotAuthorized"},{"inputs":[],"type":"error","name":"CA_ForceWithdrawNegativeBalance"},{"inputs":[],"type":"error","name":"CA_ForceWithdrawNotAuthorized"},{"inputs":[{"internalType":"uint256","name":"lastUpdatedAt","type":"uint256"},{"internalType":"uint256","name":"currentTimestamp","type":"uint256"}],"type":"error","name":"CA_InterestAccrualStale"},{"inputs":[],"type":"error","name":"CA_InvalidSubId"},{"inputs":[],"type":"error","name":"CA_NotAccount"},{"inputs":[],"type":"error","name":"CA_NotLiquidationModule"},{"inputs":[],"type":"error","name":"CA_OnlyAccountOwner"},{"inputs":[{"internalType":"uint256","name":"fee","type":"uint256"}],"type":"error","name":"CA_SmFeeInvalid"},{"inputs":[],"type":"error","name":"CA_UnknownManager"},{"inputs":[],"type":"error","name":"CA_WithdrawBlockedByOngoingAuction"},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256","indexed":true},{"internalType":"address","name":"depositor","type":"address","indexed":true},{"internalType":"uint256","name":"amountAssetMinted","type":"uint256","indexed":false},{"internalType":"uint256","name":"wrappedAssetDeposited","type":"uint256","indexed":false}],"type":"event","name":"Deposit","anonymous":false},{"inputs":[{"internalType":"uint256","name":"interestAccrued","type":"uint256","indexed":false},{"internalType":"uint256","name":"borrowIndex","type":"uint256","indexed":false},{"internalType":"uint256","name":"supplyIndex","type":"uint256","indexed":false},{"internalType":"uint256","name":"totalSupply","type":"uint256","indexed":false},{"internalType":"uint256","name":"totalBorrow","type":"uint256","indexed":false}],"type":"event","name":"InterestAccrued","anonymous":false},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256","indexed":true},{"internalType":"int256","name":"preBalance","type":"int256","indexed":false},{"internalType":"int256","name":"interestAccrued","type":"int256","indexed":false},{"internalType":"uint256","name":"accountIndex","type":"uint256","indexed":false}],"type":"event","name":"InterestAccruedOnAccount","anonymous":false},{"inputs":[{"internalType":"contract IInterestRateModel","name":"rateModel","type":"address","indexed":false}],"type":"event","name":"InterestRateModelSet","anonymous":false},{"inputs":[{"internalType":"address","name":"liquidationModule","type":"address","indexed":false}],"type":"event","name":"LiquidationModuleSet","anonymous":false},{"inputs":[{"internalType":"int256","name":"amountChanged","type":"int256","indexed":false},{"internalType":"int256","name":"currentSettledCash","type":"int256","indexed":false}],"type":"event","name":"SettledCashUpdated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"recipientAcc","type":"uint256","indexed":false}],"type":"event","name":"SmFeeRecipientSet","anonymous":false},{"inputs":[{"internalType":"uint256","name":"fee","type":"uint256","indexed":false}],"type":"event","name":"SmFeeSet","anonymous":false},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256","indexed":true},{"internalType":"address","name":"recipient","type":"address","indexed":true},{"internalType":"uint256","name":"amountAssetBurn","type":"uint256","indexed":false},{"internalType":"uint256","name":"wrappedAssetWithdrawn","type":"uint256","indexed":false}],"type":"event","name":"Withdraw","anonymous":false},{"inputs":[{"internalType":"uint256","name":"exchangeRate","type":"uint256","indexed":false}],"type":"event","name":"WithdrawFeeDisabled","anonymous":false},{"inputs":[{"internalType":"uint256","name":"exchangeRate","type":"uint256","indexed":false}],"type":"event","name":"WithdrawFeeEnabled","anonymous":false},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"calculateBalanceWithInterest","outputs":[{"internalType":"int256","name":"balance","type":"int256"}]},{"inputs":[{"internalType":"uint256","name":"recipientAccount","type":"uint256"},{"internalType":"uint256","name":"assetAmount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"deposit"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"stableAmount","type":"uint256"},{"internalType":"contract IManager","name":"manager","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"depositToNewAccount","outputs":[{"internalType":"uint256","name":"newAccountId","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"donateBalance","outputs":[{"internalType":"uint256","name":"burntAmount","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"forceWithdraw"},{"inputs":[],"stateMutability":"view","type":"function","name":"getCashToStableExchangeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"struct ISubAccounts.AssetAdjustment","name":"adjustment","type":"tuple","components":[{"internalType":"uint256","name":"acc","type":"uint256"},{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"subId","type":"uint256"},{"internalType":"int256","name":"amount","type":"int256"},{"internalType":"bytes32","name":"assetData","type":"bytes32"}]},{"internalType":"uint256","name":"tradeId","type":"uint256"},{"internalType":"int256","name":"preBalance","type":"int256"},{"internalType":"contract IManager","name":"manager","type":"address"},{"internalType":"address","name":"caller","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"handleAdjustment","outputs":[{"internalType":"int256","name":"finalBalance","type":"int256"},{"internalType":"bool","name":"needAllowance","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"lossAmountInCash","type":"uint256"},{"internalType":"uint256","name":"accountToReceive","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"socializeLoss"},{"inputs":[{"internalType":"int256","name":"amountCash","type":"int256"}],"stateMutability":"nonpayable","type":"function","name":"updateSettledCash"},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"},{"internalType":"uint256","name":"assetAmount","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"withdraw"},{"inputs":[],"stateMutability":"view","type":"function","name":"wrappedAsset","outputs":[{"internalType":"contract IERC20Metadata","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{"calculateBalanceWithInterest(uint256)":{"params":{"accountId":"The accountId to check"}},"depositToNewAccount(address,uint256,address)":{"details":"Deposit and create a new account","params":{"manager":"manager of the new account","recipient":"user for who the new account is created","stableAmount":"amount of stable coins to deposit"}},"getCashToStableExchangeRate()":{"details":"Returns the exchange rate from cash asset to stable asset      this should always be equal to 1, unless we have an insolvency"},"handleAdjustment((uint256,address,uint256,int256,bytes32),uint256,int256,address,address)":{"params":{"adjustment":"details about adjustment, containing account, subId, amount","caller":"the msg.sender that initiate the transfer. might not be the owner","manager":"the manager contract that will verify the end state. Should verify if this is a trusted manager","preBalance":"balance before adjustment","tradeId":"unique number attached to a batched transfers.                It is possible that this hook will receive multiple calls with different tradeIds within 1 transaction."},"returns":{"finalBalance":"the final balance to be recorded in the account","needAllowance":"if this adjustment should require allowance from non-ERC721 approved initiator"}},"socializeLoss(uint256,uint256)":{"params":{"accountToReceive":"Account to receive the new printed amount","lossAmountInCash":"Total amount of cash loss"}},"updateSettledCash(int256)":{"details":"Required to track printed cash for asymmetric settlements","params":{"amountCash":"Amount of cash printed or burned"}}},"version":1},"userdoc":{"kind":"user","methods":{"calculateBalanceWithInterest(uint256)":{"notice":"Returns latest balance without updating accounts but will update indexes"},"forceWithdraw(uint256)":{"notice":"Allows the account's risk manager to forcefully send all cash to the account owner"},"handleAdjustment((uint256,address,uint256,int256,bytes32),uint256,int256,address,address)":{"notice":"triggered when an adjustment is triggered on the asset balance"},"socializeLoss(uint256,uint256)":{"notice":"Liquidation module can report loss when there is insolvency.         This function will \"print\" the amount of cash to the target account         and socialize the loss to everyone in the system         this will result in turning on withdraw fee if the contract is indeed insolvent"},"updateSettledCash(int256)":{"notice":"Allows whitelisted manager to adjust netSettledCash"}},"version":1}},"settings":{"remappings":["chainlink/=lib/chainlink/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","lib/lyra-utils/=lib/lyra-utils/","lib/openzeppelin-contracts/=lib/openzeppelin-contracts/","lyra-utils/=lib/lyra-utils/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/","src/decimals/=lib/lyra-utils/src/decimals/","src/interfaces/=src/interfaces/","src/risk-managers/=src/risk-managers/"],"optimizer":{"enabled":true,"runs":800},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"src/interfaces/ICashAsset.sol":"ICashAsset"},"evmVersion":"paris","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x00c839ff53d07d19db2e7cfa1e5133f9ee90a8d64b0e2e57f50446a2d1a3a0e0","urls":["bzz-raw://3dac621d015a68a5251b1e5d41dda0faf252699bf6e8bcf46a958b29964d9dd1","dweb:/ipfs/QmP9axjgZv4cezAhALoTemM62sdLtMDJ9MGTxECnNwHgSJ"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC20/extensions/IERC20Metadata.sol":{"keccak256":"0x8de418a5503946cabe331f35fe242d3201a73f67f77aaeb7110acb1f30423aca","urls":["bzz-raw://5a376d3dda2cb70536c0a45c208b29b34ac560c4cb4f513a42079f96ba47d2dd","dweb:/ipfs/QmZQg6gn1sUpM8wHzwNvSnihumUCAhxD119MpXeKp8B9s8"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0x41bbb2c41036ca64b2f6c9e973e8cfaa113ebc42af86702cd0d267f915a7e886","urls":["bzz-raw://6bf6699c55e82c7af6ae90b61ea9643ca0c905097da9a31269319f1b5a2a696a","dweb:/ipfs/QmRJZa2UmWcRo6W8JnuomwzfjVtAS21QC8HKggxBhoPsU4"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1","urls":["bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f","dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy"],"license":"MIT"},"src/interfaces/IAllowances.sol":{"keccak256":"0x53acb29f236a4b2d6c9ebcbd4d2f8a65eeb0049b35b33a950467699987141dfb","urls":["bzz-raw://59743a7e65b252241e5bbb158ab69ba55eb2118d84b5020510b486483cd1578b","dweb:/ipfs/QmTMKUpN8sW1oXb5gjEXXY7d8FRAaJotf6MtDW1rG49vSo"],"license":"BUSL-1.1"},"src/interfaces/IAsset.sol":{"keccak256":"0xe2d55d7aaddcb04cc002b32f464d57d001800d9bd959cd1a5c60f78bd78e6bcb","urls":["bzz-raw://7af70cb014b81f4272e862f87c9ca027ba8aed9d72d5c1a9ca28b7f05edf8389","dweb:/ipfs/QmZfdNtWQrXLu3avyJiWEVBfEvj5EwbwwtZtczLm7PcRei"],"license":"BUSL-1.1"},"src/interfaces/ICashAsset.sol":{"keccak256":"0x1c931abc69e5fd3feec74857f3d36b9f6e9d002fe96b8987a303e2908c589433","urls":["bzz-raw://1378dec082605c57dd4c87fd9500883fe1efc30fcb6b4a09bc3db8d5cb791d99","dweb:/ipfs/QmQD5oFH3jJywK1UXCp7pbBhypEJJNYDEi5sESwcHo2amJ"],"license":"BUSL-1.1"},"src/interfaces/IERC20BasedAsset.sol":{"keccak256":"0xfe7c341891b0d8e5c1a46d7fead9cd5f5f1b64d297d53737522d720bc846639d","urls":["bzz-raw://797026a275c442f808405ea9438ba7b5b0d26a5c50d7da3d2b45c40b1f1ecbb5","dweb:/ipfs/QmQSr5BSQd53GDzGADcXbeahurqBYf7XzZjLosqBzLgdup"],"license":"BUSL-1.1"},"src/interfaces/IInterestRateModel.sol":{"keccak256":"0x5c3cae33e839be146cdcd95ea07b694e3a005cc0613479f1b8a1cffe7d17d652","urls":["bzz-raw://58416e0a378c0778993fc79565a58e92e440f942459f49fd682e19a37845b16c","dweb:/ipfs/QmYAYRdXs3aNgBSYQtpzX27xrRg32gq87VKPLaF26qKjdB"],"license":"BUSL-1.1"},"src/interfaces/IManager.sol":{"keccak256":"0x3cea09b9ade8f5882374407dfb3a9b668c0c2b0a85c165cabdbafdbea891b3df","urls":["bzz-raw://2f9af85d7fd8bb32c9344f21b0dd3cfb9485f6c3f9ca866c8adb0638acc7e3b9","dweb:/ipfs/QmbL1te91vqCbYLxxvpxFGhqCXUzQwiKZuZjY5XNkQqt4s"],"license":"BUSL-1.1"},"src/interfaces/ISubAccounts.sol":{"keccak256":"0xecdbfdf0bf85279ee7839968c3198c6a7c5632378d197271300617a01dfb02f7","urls":["bzz-raw://64e23c1447aa8de056c7d5bc8d79c1357f039e443abe6d6698c6f0a1f3482697","dweb:/ipfs/QmQzgG2EX6gZgzTArDkxMFRkph3bWH7VjnqEebkmhbCjLK"],"license":"BUSL-1.1"}},"version":1},"id":18}