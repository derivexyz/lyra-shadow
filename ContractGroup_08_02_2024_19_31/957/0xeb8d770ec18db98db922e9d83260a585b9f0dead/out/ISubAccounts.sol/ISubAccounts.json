{"abi":[{"type":"function","name":"approve","inputs":[{"name":"to","type":"address","internalType":"address"},{"name":"tokenId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"assetAdjustment","inputs":[{"name":"adjustment","type":"tuple","internalType":"struct ISubAccounts.AssetAdjustment","components":[{"name":"acc","type":"uint256","internalType":"uint256"},{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"subId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"int256","internalType":"int256"},{"name":"assetData","type":"bytes32","internalType":"bytes32"}]},{"name":"triggerAssetHook","type":"bool","internalType":"bool"},{"name":"managerData","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"postBalance","type":"int256","internalType":"int256"}],"stateMutability":"nonpayable"},{"type":"function","name":"balanceAndOrder","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"},{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"subId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"balance","type":"int240","internalType":"int240"},{"name":"order","type":"uint16","internalType":"uint16"}],"stateMutability":"view"},{"type":"function","name":"balanceOf","inputs":[{"name":"owner","type":"address","internalType":"address"}],"outputs":[{"name":"balance","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"createAccount","inputs":[{"name":"owner","type":"address","internalType":"address"},{"name":"_manager","type":"address","internalType":"contract IManager"}],"outputs":[{"name":"newId","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"createAccountWithApproval","inputs":[{"name":"owner","type":"address","internalType":"address"},{"name":"spender","type":"address","internalType":"address"},{"name":"_manager","type":"address","internalType":"contract IManager"}],"outputs":[{"name":"newId","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"getAccountBalances","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"assetBalances","type":"tuple[]","internalType":"struct ISubAccounts.AssetBalance[]","components":[{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"subId","type":"uint256","internalType":"uint256"},{"name":"balance","type":"int256","internalType":"int256"}]}],"stateMutability":"view"},{"type":"function","name":"getApproved","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"operator","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getBalance","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"},{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"subId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"balance","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"getUniqueAssets","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"uniqueAssets","type":"address[]","internalType":"address[]"}],"stateMutability":"view"},{"type":"function","name":"isApprovedForAll","inputs":[{"name":"owner","type":"address","internalType":"address"},{"name":"operator","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"lastAccountTradeId","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"lastTradeId","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"manager","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"contract IManager"}],"stateMutability":"view"},{"type":"function","name":"managerAdjustment","inputs":[{"name":"adjustment","type":"tuple","internalType":"struct ISubAccounts.AssetAdjustment","components":[{"name":"acc","type":"uint256","internalType":"uint256"},{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"subId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"int256","internalType":"int256"},{"name":"assetData","type":"bytes32","internalType":"bytes32"}]}],"outputs":[{"name":"postBalance","type":"int256","internalType":"int256"}],"stateMutability":"nonpayable"},{"type":"function","name":"ownerOf","inputs":[{"name":"tokenId","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"owner","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"safeTransferFrom","inputs":[{"name":"from","type":"address","internalType":"address"},{"name":"to","type":"address","internalType":"address"},{"name":"tokenId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"safeTransferFrom","inputs":[{"name":"from","type":"address","internalType":"address"},{"name":"to","type":"address","internalType":"address"},{"name":"tokenId","type":"uint256","internalType":"uint256"},{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setApprovalForAll","inputs":[{"name":"operator","type":"address","internalType":"address"},{"name":"_approved","type":"bool","internalType":"bool"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setAssetAllowances","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"},{"name":"delegate","type":"address","internalType":"address"},{"name":"allowances","type":"tuple[]","internalType":"struct IAllowances.AssetAllowance[]","components":[{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"positive","type":"uint256","internalType":"uint256"},{"name":"negative","type":"uint256","internalType":"uint256"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setSubIdAllowances","inputs":[{"name":"accountId","type":"uint256","internalType":"uint256"},{"name":"delegate","type":"address","internalType":"address"},{"name":"allowances","type":"tuple[]","internalType":"struct IAllowances.SubIdAllowance[]","components":[{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"subId","type":"uint256","internalType":"uint256"},{"name":"positive","type":"uint256","internalType":"uint256"},{"name":"negative","type":"uint256","internalType":"uint256"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"submitTransfer","inputs":[{"name":"assetTransfer","type":"tuple","internalType":"struct ISubAccounts.AssetTransfer","components":[{"name":"fromAcc","type":"uint256","internalType":"uint256"},{"name":"toAcc","type":"uint256","internalType":"uint256"},{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"subId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"int256","internalType":"int256"},{"name":"assetData","type":"bytes32","internalType":"bytes32"}]},{"name":"managerData","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"tradeId","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"submitTransfers","inputs":[{"name":"assetTransfers","type":"tuple[]","internalType":"struct ISubAccounts.AssetTransfer[]","components":[{"name":"fromAcc","type":"uint256","internalType":"uint256"},{"name":"toAcc","type":"uint256","internalType":"uint256"},{"name":"asset","type":"address","internalType":"contract IAsset"},{"name":"subId","type":"uint256","internalType":"uint256"},{"name":"amount","type":"int256","internalType":"int256"},{"name":"assetData","type":"bytes32","internalType":"bytes32"}]},{"name":"managerData","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"tradeId","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"supportsInterface","inputs":[{"name":"interfaceId","type":"bytes4","internalType":"bytes4"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"transferFrom","inputs":[{"name":"from","type":"address","internalType":"address"},{"name":"to","type":"address","internalType":"address"},{"name":"tokenId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"AccountBurned","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"accountId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"manager","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"AccountCreated","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"accountId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"manager","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"AccountManagerChanged","inputs":[{"name":"accountId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"oldManager","type":"address","indexed":true,"internalType":"address"},{"name":"newManager","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Approval","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"approved","type":"address","indexed":true,"internalType":"address"},{"name":"tokenId","type":"uint256","indexed":true,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ApprovalForAll","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"operator","type":"address","indexed":true,"internalType":"address"},{"name":"approved","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"AssetTransferred","inputs":[{"name":"fromAcc","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"toAcc","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"asset","type":"address","indexed":false,"internalType":"contract IAsset"},{"name":"subId","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amount","type":"int256","indexed":false,"internalType":"int256"},{"name":"assetData","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"tradeId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BalanceAdjusted","inputs":[{"name":"accountId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"manager","type":"address","indexed":true,"internalType":"address"},{"name":"assetAndSubId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"amount","type":"int256","indexed":false,"internalType":"int256"},{"name":"preBalance","type":"int256","indexed":false,"internalType":"int256"},{"name":"postBalance","type":"int256","indexed":false,"internalType":"int256"},{"name":"tradeId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Transfer","inputs":[{"name":"from","type":"address","indexed":true,"internalType":"address"},{"name":"to","type":"address","indexed":true,"internalType":"address"},{"name":"tokenId","type":"uint256","indexed":true,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"UnorderedNonceInvalidated","inputs":[{"name":"owner","type":"address","indexed":false,"internalType":"address"},{"name":"wordPos","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"mask","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AC_CannotChangeToSameManager","inputs":[{"name":"caller","type":"address","internalType":"address"},{"name":"accountId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"AC_CannotTransferAssetToOneself","inputs":[{"name":"caller","type":"address","internalType":"address"},{"name":"accountId","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"AC_InvalidNonce","inputs":[]},{"type":"error","name":"AC_InvalidPermitSignature","inputs":[]},{"type":"error","name":"AC_NotOwnerOrERC721Approved","inputs":[{"name":"spender","type":"address","internalType":"address"},{"name":"accountId","type":"uint256","internalType":"uint256"},{"name":"owner","type":"address","internalType":"address"},{"name":"manager","type":"address","internalType":"contract IManager"},{"name":"approved","type":"address","internalType":"address"}]},{"type":"error","name":"AC_OnlyAsset","inputs":[]},{"type":"error","name":"AC_OnlyManager","inputs":[]},{"type":"error","name":"AC_SignatureExpired","inputs":[]},{"type":"error","name":"AC_TooManyTransfers","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"approve(address,uint256)":"095ea7b3","assetAdjustment((uint256,address,uint256,int256,bytes32),bool,bytes)":"8c9a76d7","balanceAndOrder(uint256,address,uint256)":"a513cab8","balanceOf(address)":"70a08231","createAccount(address,address)":"133572ba","createAccountWithApproval(address,address,address)":"e6e4f5af","getAccountBalances(uint256)":"c7569701","getApproved(uint256)":"081812fc","getBalance(uint256,address,uint256)":"0806e640","getUniqueAssets(uint256)":"21a8c3af","isApprovedForAll(address,address)":"e985e9c5","lastAccountTradeId(uint256)":"d4d2a69f","manager(uint256)":"52981457","managerAdjustment((uint256,address,uint256,int256,bytes32))":"b99b4533","ownerOf(uint256)":"6352211e","safeTransferFrom(address,address,uint256)":"42842e0e","safeTransferFrom(address,address,uint256,bytes)":"b88d4fde","setApprovalForAll(address,bool)":"a22cb465","setAssetAllowances(uint256,address,(address,uint256,uint256)[])":"daf1a906","setSubIdAllowances(uint256,address,(address,uint256,uint256,uint256)[])":"02176d39","submitTransfer((uint256,uint256,address,uint256,int256,bytes32),bytes)":"ad1f3ff8","submitTransfers((uint256,uint256,address,uint256,int256,bytes32)[],bytes)":"58e106d5","supportsInterface(bytes4)":"01ffc9a7","transferFrom(address,address,uint256)":"23b872dd"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"}],\"name\":\"AC_CannotChangeToSameManager\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"}],\"name\":\"AC_CannotTransferAssetToOneself\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AC_InvalidNonce\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AC_InvalidPermitSignature\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"contract IManager\",\"name\":\"manager\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"approved\",\"type\":\"address\"}],\"name\":\"AC_NotOwnerOrERC721Approved\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AC_OnlyAsset\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AC_OnlyManager\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AC_SignatureExpired\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AC_TooManyTransfers\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"}],\"name\":\"AccountBurned\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"}],\"name\":\"AccountCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"oldManager\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newManager\",\"type\":\"address\"}],\"name\":\"AccountManagerChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"approved\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"fromAcc\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"toAcc\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"amount\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"assetData\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tradeId\",\"type\":\"uint256\"}],\"name\":\"AssetTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"manager\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"assetAndSubId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"amount\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"preBalance\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"postBalance\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tradeId\",\"type\":\"uint256\"}],\"name\":\"BalanceAdjusted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"wordPos\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"mask\",\"type\":\"uint256\"}],\"name\":\"UnorderedNonceInvalidated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"acc\",\"type\":\"uint256\"},{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"amount\",\"type\":\"int256\"},{\"internalType\":\"bytes32\",\"name\":\"assetData\",\"type\":\"bytes32\"}],\"internalType\":\"struct ISubAccounts.AssetAdjustment\",\"name\":\"adjustment\",\"type\":\"tuple\"},{\"internalType\":\"bool\",\"name\":\"triggerAssetHook\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"managerData\",\"type\":\"bytes\"}],\"name\":\"assetAdjustment\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"postBalance\",\"type\":\"int256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"}],\"name\":\"balanceAndOrder\",\"outputs\":[{\"internalType\":\"int240\",\"name\":\"balance\",\"type\":\"int240\"},{\"internalType\":\"uint16\",\"name\":\"order\",\"type\":\"uint16\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"contract IManager\",\"name\":\"_manager\",\"type\":\"address\"}],\"name\":\"createAccount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"newId\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"contract IManager\",\"name\":\"_manager\",\"type\":\"address\"}],\"name\":\"createAccountWithApproval\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"newId\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"}],\"name\":\"getAccountBalances\",\"outputs\":[{\"components\":[{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"balance\",\"type\":\"int256\"}],\"internalType\":\"struct ISubAccounts.AssetBalance[]\",\"name\":\"assetBalances\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"}],\"name\":\"getBalance\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"balance\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"}],\"name\":\"getUniqueAssets\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"uniqueAssets\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"}],\"name\":\"lastAccountTradeId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"lastTradeId\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"}],\"name\":\"manager\",\"outputs\":[{\"internalType\":\"contract IManager\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"acc\",\"type\":\"uint256\"},{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"amount\",\"type\":\"int256\"},{\"internalType\":\"bytes32\",\"name\":\"assetData\",\"type\":\"bytes32\"}],\"internalType\":\"struct ISubAccounts.AssetAdjustment\",\"name\":\"adjustment\",\"type\":\"tuple\"}],\"name\":\"managerAdjustment\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"postBalance\",\"type\":\"int256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"delegate\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"positive\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"negative\",\"type\":\"uint256\"}],\"internalType\":\"struct IAllowances.AssetAllowance[]\",\"name\":\"allowances\",\"type\":\"tuple[]\"}],\"name\":\"setAssetAllowances\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"accountId\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"delegate\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positive\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"negative\",\"type\":\"uint256\"}],\"internalType\":\"struct IAllowances.SubIdAllowance[]\",\"name\":\"allowances\",\"type\":\"tuple[]\"}],\"name\":\"setSubIdAllowances\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"fromAcc\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"toAcc\",\"type\":\"uint256\"},{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"amount\",\"type\":\"int256\"},{\"internalType\":\"bytes32\",\"name\":\"assetData\",\"type\":\"bytes32\"}],\"internalType\":\"struct ISubAccounts.AssetTransfer\",\"name\":\"assetTransfer\",\"type\":\"tuple\"},{\"internalType\":\"bytes\",\"name\":\"managerData\",\"type\":\"bytes\"}],\"name\":\"submitTransfer\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tradeId\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"fromAcc\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"toAcc\",\"type\":\"uint256\"},{\"internalType\":\"contract IAsset\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"subId\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"amount\",\"type\":\"int256\"},{\"internalType\":\"bytes32\",\"name\":\"assetData\",\"type\":\"bytes32\"}],\"internalType\":\"struct ISubAccounts.AssetTransfer[]\",\"name\":\"assetTransfers\",\"type\":\"tuple[]\"},{\"internalType\":\"bytes\",\"name\":\"managerData\",\"type\":\"bytes\"}],\"name\":\"submitTransfers\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tradeId\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"AC_InvalidNonce()\":[{\"details\":\"nonce already used.\"}]},\"events\":{\"AccountBurned(address,uint256,address)\":{\"details\":\"Emitted account burned\"},\"AccountCreated(address,uint256,address)\":{\"details\":\"Emitted account created or split\"},\"AccountManagerChanged(uint256,address,address)\":{\"details\":\"Emitted when account manager changed\"},\"Approval(address,address,uint256)\":{\"details\":\"Emitted when `owner` enables `approved` to manage the `tokenId` token.\"},\"ApprovalForAll(address,address,bool)\":{\"details\":\"Emitted when `owner` enables or disables (`approved`) `operator` to manage all of its assets.\"},\"BalanceAdjusted(uint256,address,bytes32,int256,int256,int256,uint256)\":{\"details\":\"Emitted during any balance change event. This includes:      1. single transfer      2. batch transfer      3. transferAll / merge / split      4. manager or asset initiated adjustments      PreBalance + amount not necessarily = postBalance\"},\"Transfer(address,address,uint256)\":{\"details\":\"Emitted when `tokenId` token is transferred from `from` to `to`.\"},\"UnorderedNonceInvalidated(address,uint256,uint256)\":{\"details\":\"Emitted when user invalidate set of nonces\"}},\"kind\":\"dev\",\"methods\":{\"approve(address,uint256)\":{\"details\":\"Gives permission to `to` to transfer `tokenId` token to another account. The approval is cleared when the token is transferred. Only a single account can be approved at a time, so approving the zero address clears previous approvals. Requirements: - The caller must own the token or be an approved operator. - `tokenId` must exist. Emits an {Approval} event.\"},\"assetAdjustment((uint256,address,uint256,int256,bytes32),bool,bytes)\":{\"params\":{\"adjustment\":\"asymmetric adjustment of amount for (asset, subId)\",\"managerData\":\"data passed to manager of account\",\"triggerAssetHook\":\"true if the adjustment need to be routed to Asset's custom hook\"}},\"balanceAndOrder(uint256,address,uint256)\":{\"details\":\"return amount of asset in the account, and the order (index) of the asset in the asset array\",\"params\":{\"accountId\":\"ID of account\",\"asset\":\"IAsset of balance\",\"subId\":\"subId of balance\"}},\"balanceOf(address)\":{\"details\":\"Returns the number of tokens in ``owner``'s account.\"},\"createAccount(address,address)\":{\"params\":{\"_manager\":\"IManager of new account\",\"owner\":\"new account owner\"},\"returns\":{\"newId\":\"ID of new account\"}},\"createAccountWithApproval(address,address,address)\":{\"details\":\"@note: can be used to create and account for another user and simultaneously give allowance to oneself\",\"params\":{\"_manager\":\"IManager of new account\",\"owner\":\"new account owner\",\"spender\":\"give address ERC721 approval\"},\"returns\":{\"newId\":\"ID of new account\"}},\"getAccountBalances(uint256)\":{\"details\":\"can use balanceAndOrder() to get the index of a specific balance\",\"params\":{\"accountId\":\"ID of account\"}},\"getApproved(uint256)\":{\"details\":\"Returns the account approved for `tokenId` token. Requirements: - `tokenId` must exist.\"},\"getBalance(uint256,address,uint256)\":{\"params\":{\"accountId\":\"ID of account\",\"asset\":\"IAsset of balance\",\"subId\":\"subId of balance\"}},\"getUniqueAssets(uint256)\":{\"details\":\"get unique assets from heldAssets.      heldAssets can hold multiple entries with same asset but different subId\",\"params\":{\"accountId\":\"ID of account\"},\"returns\":{\"uniqueAssets\":\"list of address\"}},\"isApprovedForAll(address,address)\":{\"details\":\"Returns if the `operator` is allowed to manage all of the assets of `owner`. See {setApprovalForAll}\"},\"lastAccountTradeId(uint256)\":{\"details\":\"return the tradeId for when the account was last interacted with\",\"params\":{\"accountId\":\"ID of account\"}},\"manager(uint256)\":{\"details\":\"return the manager address of the account\",\"params\":{\"accountId\":\"ID of account\"}},\"managerAdjustment((uint256,address,uint256,int256,bytes32))\":{\"params\":{\"adjustment\":\"assymetric adjustment of amount for (asset, subId)\"}},\"ownerOf(uint256)\":{\"details\":\"Returns the owner of the `tokenId` token. Requirements: - `tokenId` must exist.\"},\"safeTransferFrom(address,address,uint256)\":{\"details\":\"Safely transfers `tokenId` token from `from` to `to`, checking first that contract recipients are aware of the ERC721 protocol to prevent tokens from being forever locked. Requirements: - `from` cannot be the zero address. - `to` cannot be the zero address. - `tokenId` token must exist and be owned by `from`. - If the caller is not `from`, it must have been allowed to move this token by either {approve} or {setApprovalForAll}. - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon a safe transfer. Emits a {Transfer} event.\"},\"safeTransferFrom(address,address,uint256,bytes)\":{\"details\":\"Safely transfers `tokenId` token from `from` to `to`. Requirements: - `from` cannot be the zero address. - `to` cannot be the zero address. - `tokenId` token must exist and be owned by `from`. - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}. - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon a safe transfer. Emits a {Transfer} event.\"},\"setApprovalForAll(address,bool)\":{\"details\":\"Approve or remove `operator` as an operator for the caller. Operators can call {transferFrom} or {safeTransferFrom} for any token owned by the caller. Requirements: - The `operator` cannot be the caller. Emits an {ApprovalForAll} event.\"},\"setAssetAllowances(uint256,address,(address,uint256,uint256)[])\":{\"params\":{\"accountId\":\"ID of account\",\"allowances\":\"positive and negative amounts for each asset\",\"delegate\":\"address to assign allowance to\"}},\"setSubIdAllowances(uint256,address,(address,uint256,uint256,uint256)[])\":{\"params\":{\"accountId\":\"ID of account\",\"allowances\":\"positive and negative amounts for each (asset, subId)\",\"delegate\":\"address to assign allowance to\"}},\"submitTransfer((uint256,uint256,address,uint256,int256,bytes32),bytes)\":{\"params\":{\"assetTransfer\":\"(fromAcc, toAcc, asset, subId, amount)\",\"managerData\":\"data passed to managers of both accounts\"}},\"submitTransfers((uint256,uint256,address,uint256,int256,bytes32)[],bytes)\":{\"params\":{\"assetTransfers\":\"array of (fromAcc, toAcc, asset, subId, amount)\",\"managerData\":\"data passed to every manager involved in trade\"}},\"supportsInterface(bytes4)\":{\"details\":\"Returns true if this contract implements the interface defined by `interfaceId`. See the corresponding https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section] to learn more about how these ids are created. This function call must use less than 30 000 gas.\"},\"transferFrom(address,address,uint256)\":{\"details\":\"Transfers `tokenId` token from `from` to `to`. WARNING: Note that the caller is responsible to confirm that the recipient is capable of receiving ERC721 or else they may be permanently lost. Usage of {safeTransferFrom} prevents loss, though the caller must understand this adds an external call which potentially creates a reentrancy vulnerability. Requirements: - `from` cannot be the zero address. - `to` cannot be the zero address. - `tokenId` token must be owned by `from`. - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}. Emits a {Transfer} event.\"}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"assetAdjustment((uint256,address,uint256,int256,bytes32),bool,bytes)\":{\"notice\":\"Asymmetric balance adjustment reserved for assets         Must still pass both _managerHook()\"},\"createAccount(address,address)\":{\"notice\":\"Creates account with new accountId\"},\"createAccountWithApproval(address,address,address)\":{\"notice\":\"Creates account and gives spender full allowance\"},\"getAccountBalances(uint256)\":{\"notice\":\"Gets a list of all asset balances of an account\"},\"getBalance(uint256,address,uint256)\":{\"notice\":\"Gets an account's balance for an (asset, subId)\"},\"managerAdjustment((uint256,address,uint256,int256,bytes32))\":{\"notice\":\"Assymetric balance adjustment reserved for managers         Must still pass both _assetHook()\"},\"setAssetAllowances(uint256,address,(address,uint256,uint256)[])\":{\"notice\":\"Sets bidirectional allowances for all subIds of an asset.         During a balance adjustment, if msg.sender not ERC721 approved or owner,         asset allowance + subId allowance must be >= amount\"},\"setSubIdAllowances(uint256,address,(address,uint256,uint256,uint256)[])\":{\"notice\":\"Sets bidirectional allowances for a specific subId.         During a balance adjustment, the subId allowance is decremented first\"},\"submitTransfer((uint256,uint256,address,uint256,int256,bytes32),bytes)\":{\"notice\":\"Transfer an amount from one account to another for a specific (asset, subId)\"},\"submitTransfers((uint256,uint256,address,uint256,int256,bytes32)[],bytes)\":{\"notice\":\"Batch several transfers         Gas efficient when modifying the same account several times,         as _managerHook() is only performed once per account\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/v2-core/src/interfaces/ISubAccounts.sol\":\"ISubAccounts\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"none\"},\"optimizer\":{\"enabled\":true,\"runs\":800},\"remappings\":[\":chainlink/=lib/v2-core/lib/chainlink/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/lyra-utils/lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":lib/forge-std/=lib/forge-std/\",\":lib/openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":lib/v2-core/=lib/v2-core/\",\":lyra-utils/=lib/lyra-utils/src/\",\":openzeppelin-contracts-upgradeable/=lib/lyra-utils/lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":src/ActionVerifier.sol/=src/ActionVerifier.sol/\",\":src/Matching.sol/=src/Matching.sol/\",\":src/SubAccountsManager.sol/=src/SubAccountsManager.sol/\",\":src/decimals/=lib/lyra-utils/src/decimals/\",\":src/interfaces/=src/interfaces/\",\":v2-core/=lib/v2-core/\"]},\"sources\":{\"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol\":{\"keccak256\":\"0xab28a56179c1db258c9bf5235b382698cb650debecb51b23d12be9e241374b68\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://daae589a9d6fa7e55f99f86c0a16796ca490f243fb3693632c3711c0646c1d56\",\"dweb:/ipfs/QmR3zpd7wNw3rcUdekwiv6FYHJqksuTCXLVioTxu6Fbxk3\"]},\"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol\":{\"keccak256\":\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f\",\"dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy\"]},\"lib/v2-core/src/interfaces/IAllowances.sol\":{\"keccak256\":\"0x53acb29f236a4b2d6c9ebcbd4d2f8a65eeb0049b35b33a950467699987141dfb\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://59743a7e65b252241e5bbb158ab69ba55eb2118d84b5020510b486483cd1578b\",\"dweb:/ipfs/QmTMKUpN8sW1oXb5gjEXXY7d8FRAaJotf6MtDW1rG49vSo\"]},\"lib/v2-core/src/interfaces/IAsset.sol\":{\"keccak256\":\"0xe2d55d7aaddcb04cc002b32f464d57d001800d9bd959cd1a5c60f78bd78e6bcb\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://7af70cb014b81f4272e862f87c9ca027ba8aed9d72d5c1a9ca28b7f05edf8389\",\"dweb:/ipfs/QmZfdNtWQrXLu3avyJiWEVBfEvj5EwbwwtZtczLm7PcRei\"]},\"lib/v2-core/src/interfaces/IManager.sol\":{\"keccak256\":\"0x3cea09b9ade8f5882374407dfb3a9b668c0c2b0a85c165cabdbafdbea891b3df\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://2f9af85d7fd8bb32c9344f21b0dd3cfb9485f6c3f9ca866c8adb0638acc7e3b9\",\"dweb:/ipfs/QmbL1te91vqCbYLxxvpxFGhqCXUzQwiKZuZjY5XNkQqt4s\"]},\"lib/v2-core/src/interfaces/ISubAccounts.sol\":{\"keccak256\":\"0xecdbfdf0bf85279ee7839968c3198c6a7c5632378d197271300617a01dfb02f7\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://64e23c1447aa8de056c7d5bc8d79c1357f039e443abe6d6698c6f0a1f3482697\",\"dweb:/ipfs/QmQzgG2EX6gZgzTArDkxMFRkph3bWH7VjnqEebkmhbCjLK\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"caller","type":"address"},{"internalType":"uint256","name":"accountId","type":"uint256"}],"type":"error","name":"AC_CannotChangeToSameManager"},{"inputs":[{"internalType":"address","name":"caller","type":"address"},{"internalType":"uint256","name":"accountId","type":"uint256"}],"type":"error","name":"AC_CannotTransferAssetToOneself"},{"inputs":[],"type":"error","name":"AC_InvalidNonce"},{"inputs":[],"type":"error","name":"AC_InvalidPermitSignature"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"accountId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"contract IManager","name":"manager","type":"address"},{"internalType":"address","name":"approved","type":"address"}],"type":"error","name":"AC_NotOwnerOrERC721Approved"},{"inputs":[],"type":"error","name":"AC_OnlyAsset"},{"inputs":[],"type":"error","name":"AC_OnlyManager"},{"inputs":[],"type":"error","name":"AC_SignatureExpired"},{"inputs":[],"type":"error","name":"AC_TooManyTransfers"},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"uint256","name":"accountId","type":"uint256","indexed":true},{"internalType":"address","name":"manager","type":"address","indexed":true}],"type":"event","name":"AccountBurned","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"uint256","name":"accountId","type":"uint256","indexed":true},{"internalType":"address","name":"manager","type":"address","indexed":true}],"type":"event","name":"AccountCreated","anonymous":false},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256","indexed":true},{"internalType":"address","name":"oldManager","type":"address","indexed":true},{"internalType":"address","name":"newManager","type":"address","indexed":true}],"type":"event","name":"AccountManagerChanged","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"approved","type":"address","indexed":true},{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":true}],"type":"event","name":"Approval","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"operator","type":"address","indexed":true},{"internalType":"bool","name":"approved","type":"bool","indexed":false}],"type":"event","name":"ApprovalForAll","anonymous":false},{"inputs":[{"internalType":"uint256","name":"fromAcc","type":"uint256","indexed":true},{"internalType":"uint256","name":"toAcc","type":"uint256","indexed":true},{"internalType":"contract IAsset","name":"asset","type":"address","indexed":false},{"internalType":"uint256","name":"subId","type":"uint256","indexed":false},{"internalType":"int256","name":"amount","type":"int256","indexed":false},{"internalType":"bytes32","name":"assetData","type":"bytes32","indexed":false},{"internalType":"uint256","name":"tradeId","type":"uint256","indexed":false}],"type":"event","name":"AssetTransferred","anonymous":false},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256","indexed":true},{"internalType":"address","name":"manager","type":"address","indexed":true},{"internalType":"bytes32","name":"assetAndSubId","type":"bytes32","indexed":true},{"internalType":"int256","name":"amount","type":"int256","indexed":false},{"internalType":"int256","name":"preBalance","type":"int256","indexed":false},{"internalType":"int256","name":"postBalance","type":"int256","indexed":false},{"internalType":"uint256","name":"tradeId","type":"uint256","indexed":false}],"type":"event","name":"BalanceAdjusted","anonymous":false},{"inputs":[{"internalType":"address","name":"from","type":"address","indexed":true},{"internalType":"address","name":"to","type":"address","indexed":true},{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":true}],"type":"event","name":"Transfer","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":false},{"internalType":"uint256","name":"wordPos","type":"uint256","indexed":false},{"internalType":"uint256","name":"mask","type":"uint256","indexed":false}],"type":"event","name":"UnorderedNonceInvalidated","anonymous":false},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"approve"},{"inputs":[{"internalType":"struct ISubAccounts.AssetAdjustment","name":"adjustment","type":"tuple","components":[{"internalType":"uint256","name":"acc","type":"uint256"},{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"subId","type":"uint256"},{"internalType":"int256","name":"amount","type":"int256"},{"internalType":"bytes32","name":"assetData","type":"bytes32"}]},{"internalType":"bool","name":"triggerAssetHook","type":"bool"},{"internalType":"bytes","name":"managerData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"assetAdjustment","outputs":[{"internalType":"int256","name":"postBalance","type":"int256"}]},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"},{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"subId","type":"uint256"}],"stateMutability":"view","type":"function","name":"balanceAndOrder","outputs":[{"internalType":"int240","name":"balance","type":"int240"},{"internalType":"uint16","name":"order","type":"uint16"}]},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"stateMutability":"view","type":"function","name":"balanceOf","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"contract IManager","name":"_manager","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"createAccount","outputs":[{"internalType":"uint256","name":"newId","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"contract IManager","name":"_manager","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"createAccountWithApproval","outputs":[{"internalType":"uint256","name":"newId","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getAccountBalances","outputs":[{"internalType":"struct ISubAccounts.AssetBalance[]","name":"assetBalances","type":"tuple[]","components":[{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"subId","type":"uint256"},{"internalType":"int256","name":"balance","type":"int256"}]}]},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getApproved","outputs":[{"internalType":"address","name":"operator","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"},{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"subId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getBalance","outputs":[{"internalType":"int256","name":"balance","type":"int256"}]},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"}],"stateMutability":"view","type":"function","name":"getUniqueAssets","outputs":[{"internalType":"address[]","name":"uniqueAssets","type":"address[]"}]},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"stateMutability":"view","type":"function","name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"}],"stateMutability":"view","type":"function","name":"lastAccountTradeId","outputs":[{"internalType":"uint256","name":"lastTradeId","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"}],"stateMutability":"view","type":"function","name":"manager","outputs":[{"internalType":"contract IManager","name":"","type":"address"}]},{"inputs":[{"internalType":"struct ISubAccounts.AssetAdjustment","name":"adjustment","type":"tuple","components":[{"internalType":"uint256","name":"acc","type":"uint256"},{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"subId","type":"uint256"},{"internalType":"int256","name":"amount","type":"int256"},{"internalType":"bytes32","name":"assetData","type":"bytes32"}]}],"stateMutability":"nonpayable","type":"function","name":"managerAdjustment","outputs":[{"internalType":"int256","name":"postBalance","type":"int256"}]},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"view","type":"function","name":"ownerOf","outputs":[{"internalType":"address","name":"owner","type":"address"}]},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"safeTransferFrom"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"safeTransferFrom"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"_approved","type":"bool"}],"stateMutability":"nonpayable","type":"function","name":"setApprovalForAll"},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"},{"internalType":"address","name":"delegate","type":"address"},{"internalType":"struct IAllowances.AssetAllowance[]","name":"allowances","type":"tuple[]","components":[{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"positive","type":"uint256"},{"internalType":"uint256","name":"negative","type":"uint256"}]}],"stateMutability":"nonpayable","type":"function","name":"setAssetAllowances"},{"inputs":[{"internalType":"uint256","name":"accountId","type":"uint256"},{"internalType":"address","name":"delegate","type":"address"},{"internalType":"struct IAllowances.SubIdAllowance[]","name":"allowances","type":"tuple[]","components":[{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"subId","type":"uint256"},{"internalType":"uint256","name":"positive","type":"uint256"},{"internalType":"uint256","name":"negative","type":"uint256"}]}],"stateMutability":"nonpayable","type":"function","name":"setSubIdAllowances"},{"inputs":[{"internalType":"struct ISubAccounts.AssetTransfer","name":"assetTransfer","type":"tuple","components":[{"internalType":"uint256","name":"fromAcc","type":"uint256"},{"internalType":"uint256","name":"toAcc","type":"uint256"},{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"subId","type":"uint256"},{"internalType":"int256","name":"amount","type":"int256"},{"internalType":"bytes32","name":"assetData","type":"bytes32"}]},{"internalType":"bytes","name":"managerData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"submitTransfer","outputs":[{"internalType":"uint256","name":"tradeId","type":"uint256"}]},{"inputs":[{"internalType":"struct ISubAccounts.AssetTransfer[]","name":"assetTransfers","type":"tuple[]","components":[{"internalType":"uint256","name":"fromAcc","type":"uint256"},{"internalType":"uint256","name":"toAcc","type":"uint256"},{"internalType":"contract IAsset","name":"asset","type":"address"},{"internalType":"uint256","name":"subId","type":"uint256"},{"internalType":"int256","name":"amount","type":"int256"},{"internalType":"bytes32","name":"assetData","type":"bytes32"}]},{"internalType":"bytes","name":"managerData","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"submitTransfers","outputs":[{"internalType":"uint256","name":"tradeId","type":"uint256"}]},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"stateMutability":"view","type":"function","name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"transferFrom"}],"devdoc":{"kind":"dev","methods":{"approve(address,uint256)":{"details":"Gives permission to `to` to transfer `tokenId` token to another account. The approval is cleared when the token is transferred. Only a single account can be approved at a time, so approving the zero address clears previous approvals. Requirements: - The caller must own the token or be an approved operator. - `tokenId` must exist. Emits an {Approval} event."},"assetAdjustment((uint256,address,uint256,int256,bytes32),bool,bytes)":{"params":{"adjustment":"asymmetric adjustment of amount for (asset, subId)","managerData":"data passed to manager of account","triggerAssetHook":"true if the adjustment need to be routed to Asset's custom hook"}},"balanceAndOrder(uint256,address,uint256)":{"details":"return amount of asset in the account, and the order (index) of the asset in the asset array","params":{"accountId":"ID of account","asset":"IAsset of balance","subId":"subId of balance"}},"balanceOf(address)":{"details":"Returns the number of tokens in ``owner``'s account."},"createAccount(address,address)":{"params":{"_manager":"IManager of new account","owner":"new account owner"},"returns":{"newId":"ID of new account"}},"createAccountWithApproval(address,address,address)":{"details":"@note: can be used to create and account for another user and simultaneously give allowance to oneself","params":{"_manager":"IManager of new account","owner":"new account owner","spender":"give address ERC721 approval"},"returns":{"newId":"ID of new account"}},"getAccountBalances(uint256)":{"details":"can use balanceAndOrder() to get the index of a specific balance","params":{"accountId":"ID of account"}},"getApproved(uint256)":{"details":"Returns the account approved for `tokenId` token. Requirements: - `tokenId` must exist."},"getBalance(uint256,address,uint256)":{"params":{"accountId":"ID of account","asset":"IAsset of balance","subId":"subId of balance"}},"getUniqueAssets(uint256)":{"details":"get unique assets from heldAssets.      heldAssets can hold multiple entries with same asset but different subId","params":{"accountId":"ID of account"},"returns":{"uniqueAssets":"list of address"}},"isApprovedForAll(address,address)":{"details":"Returns if the `operator` is allowed to manage all of the assets of `owner`. See {setApprovalForAll}"},"lastAccountTradeId(uint256)":{"details":"return the tradeId for when the account was last interacted with","params":{"accountId":"ID of account"}},"manager(uint256)":{"details":"return the manager address of the account","params":{"accountId":"ID of account"}},"managerAdjustment((uint256,address,uint256,int256,bytes32))":{"params":{"adjustment":"assymetric adjustment of amount for (asset, subId)"}},"ownerOf(uint256)":{"details":"Returns the owner of the `tokenId` token. Requirements: - `tokenId` must exist."},"safeTransferFrom(address,address,uint256)":{"details":"Safely transfers `tokenId` token from `from` to `to`, checking first that contract recipients are aware of the ERC721 protocol to prevent tokens from being forever locked. Requirements: - `from` cannot be the zero address. - `to` cannot be the zero address. - `tokenId` token must exist and be owned by `from`. - If the caller is not `from`, it must have been allowed to move this token by either {approve} or {setApprovalForAll}. - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon a safe transfer. Emits a {Transfer} event."},"safeTransferFrom(address,address,uint256,bytes)":{"details":"Safely transfers `tokenId` token from `from` to `to`. Requirements: - `from` cannot be the zero address. - `to` cannot be the zero address. - `tokenId` token must exist and be owned by `from`. - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}. - If `to` refers to a smart contract, it must implement {IERC721Receiver-onERC721Received}, which is called upon a safe transfer. Emits a {Transfer} event."},"setApprovalForAll(address,bool)":{"details":"Approve or remove `operator` as an operator for the caller. Operators can call {transferFrom} or {safeTransferFrom} for any token owned by the caller. Requirements: - The `operator` cannot be the caller. Emits an {ApprovalForAll} event."},"setAssetAllowances(uint256,address,(address,uint256,uint256)[])":{"params":{"accountId":"ID of account","allowances":"positive and negative amounts for each asset","delegate":"address to assign allowance to"}},"setSubIdAllowances(uint256,address,(address,uint256,uint256,uint256)[])":{"params":{"accountId":"ID of account","allowances":"positive and negative amounts for each (asset, subId)","delegate":"address to assign allowance to"}},"submitTransfer((uint256,uint256,address,uint256,int256,bytes32),bytes)":{"params":{"assetTransfer":"(fromAcc, toAcc, asset, subId, amount)","managerData":"data passed to managers of both accounts"}},"submitTransfers((uint256,uint256,address,uint256,int256,bytes32)[],bytes)":{"params":{"assetTransfers":"array of (fromAcc, toAcc, asset, subId, amount)","managerData":"data passed to every manager involved in trade"}},"supportsInterface(bytes4)":{"details":"Returns true if this contract implements the interface defined by `interfaceId`. See the corresponding https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section] to learn more about how these ids are created. This function call must use less than 30 000 gas."},"transferFrom(address,address,uint256)":{"details":"Transfers `tokenId` token from `from` to `to`. WARNING: Note that the caller is responsible to confirm that the recipient is capable of receiving ERC721 or else they may be permanently lost. Usage of {safeTransferFrom} prevents loss, though the caller must understand this adds an external call which potentially creates a reentrancy vulnerability. Requirements: - `from` cannot be the zero address. - `to` cannot be the zero address. - `tokenId` token must be owned by `from`. - If the caller is not `from`, it must be approved to move this token by either {approve} or {setApprovalForAll}. Emits a {Transfer} event."}},"version":1},"userdoc":{"kind":"user","methods":{"assetAdjustment((uint256,address,uint256,int256,bytes32),bool,bytes)":{"notice":"Asymmetric balance adjustment reserved for assets         Must still pass both _managerHook()"},"createAccount(address,address)":{"notice":"Creates account with new accountId"},"createAccountWithApproval(address,address,address)":{"notice":"Creates account and gives spender full allowance"},"getAccountBalances(uint256)":{"notice":"Gets a list of all asset balances of an account"},"getBalance(uint256,address,uint256)":{"notice":"Gets an account's balance for an (asset, subId)"},"managerAdjustment((uint256,address,uint256,int256,bytes32))":{"notice":"Assymetric balance adjustment reserved for managers         Must still pass both _assetHook()"},"setAssetAllowances(uint256,address,(address,uint256,uint256)[])":{"notice":"Sets bidirectional allowances for all subIds of an asset.         During a balance adjustment, if msg.sender not ERC721 approved or owner,         asset allowance + subId allowance must be >= amount"},"setSubIdAllowances(uint256,address,(address,uint256,uint256,uint256)[])":{"notice":"Sets bidirectional allowances for a specific subId.         During a balance adjustment, the subId allowance is decremented first"},"submitTransfer((uint256,uint256,address,uint256,int256,bytes32),bytes)":{"notice":"Transfer an amount from one account to another for a specific (asset, subId)"},"submitTransfers((uint256,uint256,address,uint256,int256,bytes32)[],bytes)":{"notice":"Batch several transfers         Gas efficient when modifying the same account several times,         as _managerHook() is only performed once per account"}},"version":1}},"settings":{"remappings":["chainlink/=lib/v2-core/lib/chainlink/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/lyra-utils/lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","lib/forge-std/=lib/forge-std/","lib/openzeppelin-contracts/=lib/openzeppelin-contracts/","lib/v2-core/=lib/v2-core/","lyra-utils/=lib/lyra-utils/src/","openzeppelin-contracts-upgradeable/=lib/lyra-utils/lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/","src/ActionVerifier.sol/=src/ActionVerifier.sol/","src/Matching.sol/=src/Matching.sol/","src/SubAccountsManager.sol/=src/SubAccountsManager.sol/","src/decimals/=lib/lyra-utils/src/decimals/","src/interfaces/=src/interfaces/","v2-core/=lib/v2-core/"],"optimizer":{"enabled":true,"runs":800},"metadata":{"bytecodeHash":"none"},"compilationTarget":{"lib/v2-core/src/interfaces/ISubAccounts.sol":"ISubAccounts"},"evmVersion":"paris","libraries":{}},"sources":{"lib/openzeppelin-contracts/contracts/token/ERC721/IERC721.sol":{"keccak256":"0xab28a56179c1db258c9bf5235b382698cb650debecb51b23d12be9e241374b68","urls":["bzz-raw://daae589a9d6fa7e55f99f86c0a16796ca490f243fb3693632c3711c0646c1d56","dweb:/ipfs/QmR3zpd7wNw3rcUdekwiv6FYHJqksuTCXLVioTxu6Fbxk3"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/introspection/IERC165.sol":{"keccak256":"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1","urls":["bzz-raw://be161e54f24e5c6fae81a12db1a8ae87bc5ae1b0ddc805d82a1440a68455088f","dweb:/ipfs/QmP7C3CHdY9urF4dEMb9wmsp1wMxHF6nhA2yQE5SKiPAdy"],"license":"MIT"},"lib/v2-core/src/interfaces/IAllowances.sol":{"keccak256":"0x53acb29f236a4b2d6c9ebcbd4d2f8a65eeb0049b35b33a950467699987141dfb","urls":["bzz-raw://59743a7e65b252241e5bbb158ab69ba55eb2118d84b5020510b486483cd1578b","dweb:/ipfs/QmTMKUpN8sW1oXb5gjEXXY7d8FRAaJotf6MtDW1rG49vSo"],"license":"BUSL-1.1"},"lib/v2-core/src/interfaces/IAsset.sol":{"keccak256":"0xe2d55d7aaddcb04cc002b32f464d57d001800d9bd959cd1a5c60f78bd78e6bcb","urls":["bzz-raw://7af70cb014b81f4272e862f87c9ca027ba8aed9d72d5c1a9ca28b7f05edf8389","dweb:/ipfs/QmZfdNtWQrXLu3avyJiWEVBfEvj5EwbwwtZtczLm7PcRei"],"license":"BUSL-1.1"},"lib/v2-core/src/interfaces/IManager.sol":{"keccak256":"0x3cea09b9ade8f5882374407dfb3a9b668c0c2b0a85c165cabdbafdbea891b3df","urls":["bzz-raw://2f9af85d7fd8bb32c9344f21b0dd3cfb9485f6c3f9ca866c8adb0638acc7e3b9","dweb:/ipfs/QmbL1te91vqCbYLxxvpxFGhqCXUzQwiKZuZjY5XNkQqt4s"],"license":"BUSL-1.1"},"lib/v2-core/src/interfaces/ISubAccounts.sol":{"keccak256":"0xecdbfdf0bf85279ee7839968c3198c6a7c5632378d197271300617a01dfb02f7","urls":["bzz-raw://64e23c1447aa8de056c7d5bc8d79c1357f039e443abe6d6698c6f0a1f3482697","dweb:/ipfs/QmQzgG2EX6gZgzTArDkxMFRkph3bWH7VjnqEebkmhbCjLK"],"license":"BUSL-1.1"}},"version":1},"id":17}